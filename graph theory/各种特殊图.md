# 各种特殊图
# 竞赛图(tournament graph)
定义：$n$ 个点的有向图，满足任意不同两点都有且仅有一条有向边

1. 将竞赛图缩点之后，缩成的所有强连通分量按照出度从小到大排成的序列，一定满足第 $i$ 个强连通分量与所有 $j>i$ 的强连通分量 $j$ 都有一条 $i\rightarrow j$ 的边
2. 竞赛图的所有强连通分量都存在一条哈密顿回路
3. 竞赛图存在一条哈密顿路径
4. 竞赛图里，任意大小为 $n>1$ 的强连通分量中，大小为 $[3,n]$ 的环均存在
5. 令 $s_i$ 为第 $i$ 个点的出度,对 $s$ 排好序后, 若满足 $\sum\limits_{i=1}^ks_i\le\dbinom k2$ 且 $\sum\limits_{i=1}^n s_i=\dbinom n2$ , 定能构造出一种竞赛图, 反之不能
# 仙人掌(cactus)
定义：无向连通图，每条边最多在一个环上

仙人掌图中每个环相当于一个点双

环上两点之间距离只有两种可能，重构成圆方树之后可以保留距离信息
# 欧拉图(Euler Graph)
## 定义
-   **欧拉回路**：通过图中每条边恰好一次的回路
-   **欧拉通路**：通过图中每条边恰好一次的通路
-   **欧拉图**：具有欧拉回路的图
-   **半欧拉图**：具有欧拉通路但不具有欧拉回路的图
## 性质
欧拉图中所有顶点的度数都是偶数。

若 $G$ 是欧拉图，则它为若干个环的并，且每条边被包含在奇数个环内。
## 判别法
1.  无向图是欧拉图当且仅当：
    -   非零度顶点是连通的
    -   顶点的度数都是偶数
2.  无向图是半欧拉图当且仅当：
    -   非零度顶点是连通的
    -   恰有 2 个奇度顶点
3.  有向图是欧拉图当且仅当：
    -   非零度顶点是强连通的
    -   每个顶点的入度和出度相等
4.  有向图是半欧拉图当且仅当：
    -   非零度顶点是弱连通的
    -   至多一个顶点的出度与入度之差为 1
    -   至多一个顶点的入度与出度之差为 1
    -   其他顶点的入度和出度相等
## 查找无向图欧拉回路
定义全局变量use[N]，表示点u的前use[u]条边已经被用过了，dfs时只走没用过的边，边为二元组（另一点，反向边的存储位置），记录第二个信息方便标记反向边已经用过
```cpp
int use[N];
vector<array<int, 2>> e[N];
void dfs(int u)
{
    while (use[u] < e[u].size())
    {
        auto [v, ind] = e[u][use[u]];
        if (v == -1)
        {
            ++use[u];
            continue;
        }
        e[v][ind][0] = -1;
        ++use[u];
        dfs(v);
    }
}
int pos1 = e[u].size(), pos2 = e[v].size();
e[u].push_back({v, pos2});
e[v].push_back({u, pos1});
```
# 哈密顿图(Hamiltonian graph)
## 定义

通过图中所有顶点一次且仅一次的通路称为哈密顿通路。

通过图中所有顶点一次且仅一次的回路称为哈密顿回路。

具有哈密顿回路的图称为哈密顿图。

具有哈密顿通路而不具有哈密顿回路的图称为半哈密顿图。

## 性质

设 $G=\langle V, E\rangle$ 是哈密顿图，则对于 $V$ 的任意非空真子集 $V_1$，均有 $p(G-V_1) \leq |V_1|$。其中 $p(x)$ 为 $x$ 的连通分支数。

推论：设 $G=\langle V, E\rangle$ 是半哈密顿图，则对于 $V$ 的任意非空真子集 $V_1$，均有 $p(G-V_1) \leq |V_1|+1$。其中 $p(x)$ 为 $x$ 的连通分支数。

完全图 $K_{2k+1} (k \geq 1)$ 中含 $k$ 条边不重的哈密顿回路，且这 $k$ 条边不重的哈密顿回路含 $K_{2k+1}$ 中的所有边。

完全图 $K_{2k} (k \geq 2)$ 中含 $k-1$ 条边不重的哈密顿回路，从 $K_{2k}$ 中删除这 $k-1$ 条边不重的哈密顿回路后所得图含 $k$ 条互不相邻的边。

## 充分条件

设 $G$ 是 $n(n \geq 2)$ 的无向简单图，若对于 $G$ 中任意不相邻的顶点 $v_i, v_j$，均有 $d(v_i)+ d(v_j) \geq n - 1$，则 $G$ 中存在哈密顿通路。

推论 1：设 $G$ 是 $n(n \geq 3)$ 的无向简单图，若对于 $G$ 中任意不相邻的顶点 $v_i, v_j$，均有 $d(v_i)+ d(v_j) \geq n$，则 $G$ 中存在哈密顿回路，从而 $G$ 为哈密顿图。

推论 2：设 $G$ 是 $n(n \geq 3)$ 的无向简单图，若对于 $G$ 中任意顶点 $v_i$，均有 $d(v_i) \geq \frac{n}{2}$，则 $G$ 中存在哈密顿回路，从而 $G$ 为哈密顿图。

设 $D$ 为 $n(n \geq 2)$ 阶竞赛图，则 $D$ 具有哈密顿通路。

若 $D$ 含 $n(n \geq 2)$ 阶竞赛图作为子图，则 $D$ 具有哈密顿通路。

强连通的竞赛图为哈密顿图。

若 $D$ 含 $n(n \geq 2)$ 阶强连通的竞赛图作为子图，则 $D$ 具有哈密顿回路
