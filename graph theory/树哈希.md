# 树哈希
以 $rt$ 为根的子树，假设儿子是 $v_1, v_2, \cdots, v_k$，定义子树的哈希 $h(rt)=1+\sum\limits_{i=1}^k f(h(v_i))$。其中 $h(v_i)$ 是 $v_i$ 对应子树的哈希，$f$ 为一个待定函数。如果需要换根，第二次 dp 时只需把子树哈希减掉即可
```cpp
ll h(ll x) {return x * x * x * 1237123 + 19260817;}
ll f(ll x) {return h(x & ((1 << 31) - 1)) + h(x >> 31);}
```