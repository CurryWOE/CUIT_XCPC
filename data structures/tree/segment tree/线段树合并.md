新建式
```cpp
int merge(int u, int v, int l, int r) {
    if (!u || !v)
        return u + v; // 如果有一个为空，就返回不为空的；如果都为空就返回空
    int c = ++cnt;
    if (l == r)
    {
        T[c].v = T[u].v + T[v].v;
        return c;
    }
    int mid = l + r >> 1;
    T[c].ls = merge(T[u].ls, T[v].ls, l, mid);
    T[c].rs = merge(T[u].rs, T[v].rs, mid + 1, r);
    pushup(c);
    return c;
}
```
挂靠式
```cpp
int merge(int u, int v, int l, int r) {
    if (!u || !v)
        return u + v;
    if (l == r)
    {
        T[u].v += T[v].v;
        return u;
    }
    int mid = l + r >> 1;
    T[u].ls = merge(T[u].ls, T[v].ls, l, mid);
    T[u].rs = merge(T[u].rs, T[v].rs, mid + 1, r);
    pushup(u);
    return u;
}
```