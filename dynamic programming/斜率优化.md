# 斜率优化
考虑DP转移形如 $ans_i=\min\limits_{j<i}f'(j)+f''(i)+f'''(j,i)$

其中 $f'(j)$ 表示只与 j 有关的信息，$f''(i)$ 表示只与 i 有关的信息，$f'''(j,i)$ 表示同时与 j,i 有关的信息

考虑一次函数 $y=kx+b$ (题目不会让斜率不存在)，移项得 $b=y-kx$

令 $b=ans_i-f''(i),y=f'(j),kx=f'''(i,j)$

根据具体题目将 f'''(i,j) 转换为 $f'''(i,j)=f''''(i)f'''''(j)$

令 $k=f''''(i),x=f'''''(j)$

重写转移方程 $b_i=\min\limits_{j<i}y_j-k_ix_j$

把 $(x_j,y_j)$ 视为二维平面上的点，考虑一条过 $(x_j,y_j)$ 直线 $y=k_i x + b_i$

因为 $b_i$ 要最小，所以从小到大考虑 $b_i$ 的合法性

当逐渐增大 $b_i$，直线第一次穿过某个点 $(x_j,y_j)$ ，如果 $k_i>0$ ，该点一定在全部点的下凸壳，否则在上凸壳

当 $k_i$ 单调递增或单调递减，最优决策点j单调递增（结合函数图像理解）

穿过凸包相邻两点的直线的斜率的单调性和 $k_i$ 的单调性一致

具体做法：

0. 用数组模拟std::deque
1. index单调递增来找到最优决策点(答案表达式到达极小值，同时也是最小值)
2. 计算答案
3. 循环“如果该点加入使得斜率单调性和 $k_i$ 单调性不一样，踢出队尾元素”
4. 加入该点到队尾